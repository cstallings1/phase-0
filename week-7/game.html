<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link type="text/css" rel="stylesheet" href="game.css">

  <title>
    Space Adventures
  </title>
</head>

<body>
  <header>
    Welcome to Space Adventures!
  </header>
  <canvas id="canvas">
  </canvas>
  <script>
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");
    var astronaut = {
      color: "#0040FF",
      width: 25,
      height: 25,
      x: 0,
      y: 0,
      draw: function() {
        ctx.fillStyle = this.color;
        ctx.fillRect(this.x, this.y, this.width, this.height);
      },
      win: false,
    //Moves astronaut and martian
      move: function(direction) {
        if (direction === "right") {
          this.x += 2;
        } else if (direction === "left") {
          this.x -= 2;
        } else if (direction === "up") {
          this.y += 2;
        } else if (direction === "down") {
          this.y -= 2;
        } else {
          console.log("That was not a valid direction")
        }
        console.log("Astronuat is at " + this.x + "," + this.y);

        martian.x = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
        martian.y = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
        console.log("Martian is at " + martian.x + "," + martian.y);

        //Check if astronaut made it to the ship
        if ((this.x === spaceship.x) && (this.y === spaceship.y)) {
          console.log("You made it back to the ship safe and sound.");
          this.win = true;
        }

        //Check if martian captured astronaut
        if (this.x === martian.x && this.y === martian.y) {
          console.log("The martian captured you GAME OVER")
        }
        },

      //Fire the raygun by changing it's position
      shoot: function() {
        raygun.x = Math.floor(Math.random() * (martian.x - 1 + 1)) + 1;
        raygun.y = Math.floor(Math.random() * (martian.y - 1 + 1)) + 1;
        console.log("Raygun shoots at " + raygun.x + "," + raygun.y);

        if (raygun.x === martian.x && raygun.y === martian.y) {
          martian.health -= 50;
          console.log("Martian health: " + martian.health)
        }

        if (martian.health == 0) {
          console.log("Congratulations you killed the martian! Now you can safely go back to the spaceship.");
          this.win = true;
        }
      }
    };

    var martian = {
      x: 0,
      y: 0,
      health: 100,
      color: "#00FF40",
      width: 25,
      height: 25,
      draw: function() {
        ctx.fillStyle = this.color;
        ctx.fillRect(this.x, this.y, this.width, this.height);
      }
    };

    var spaceship = {
      x: Math.floor(Math.random() * (2 - 1 + 1)) + 1,
      y: Math.floor(Math.random() * (2 - 1 + 1)) + 1,
      color: "#FFFFFF",
      width: 25,
      height: 25,
      draw: function() {
        ctx.fillStyle = this.color;
        ctx.fillRect(this.x, this.y, this.width, this.height);
      }
    };

    var raygun = {
      x: 0,
      y: 0,
      color: "#808080",
      width: 8,
      height: 8,
      draw: function() {
        ctx.fillStyle = this.color;
        ctx.fillRect(this.x, this.y, this.width, this.height);
      }
    };
  </script>
</body>
</html>